
@page "/"
@page "/login"
@using AfiliacionesCirsa.ViewModels
@inject ILoginViewModel vm;


<PageTitle>LOGIN</PageTitle>

<h1>Hello, world! THIS IS THE LOGIN</h1>
Welcome to your new app.

<h3>Iniciar Sesión</h3>

<EditForm Model="@vm" OnValidSubmit=@(()=>vm.Login())>
    <DataAnnotationsValidator />
    <div class="form-group">
        <label>Nombre de Usuario:</label>
        <InputText @bind-Value="vm.email" class="form-control" />
    </div>
    <div class="form-group">
        <label>Contraseña:</label>
        <InputText @bind-Value="vm.password" type="password" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
</EditForm>
@if (vm.showModal)
{
    <p style="color=Red;">CONTRASEÑA O CORREO INCORRECTOS</p>
}

@if (vm.isBusy)
{
    <p>LOADING......</p>
}

@code {

    //Login=@(args => vm.Login(args.Username, args.Password))
    protected override void OnInitialized()
    {
        vm.OnInitialize();
    }
}
